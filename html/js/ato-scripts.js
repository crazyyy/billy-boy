function initIsotope(){jQuery(".facts-wrapper").isotope({masonry:{columnWidth:320},itemSelector:".fact-teaser",layoutMode:"masonry",sortBy:["random"]})}function toggleAdditionalReviews(){jQuery("#single-product-ratings-module .ratings-wrapper .additional-reviews").toggleClass("hidden"),jQuery("#single-product-ratings-module .ratings-wrapper .show-all").toggleClass("hidden")}function replaceVideoThumbByIframe(e){var t=jQuery(e),a=t.data("video-id"),i='<iframe class="youTubeSlide" width="480" height="270" src="//www.youtube.com/embed/'+a+'?wmode=transparent&rel=false&autoplay=1" frameborder="0" allowfullscreen></iframe>';t.replaceWith(i)}function product_detail_toggle_configurable_option(e){var t=jQuery(e).data("id"),a=jQuery(".option-image-"+t+":not(.slick-cloned)").data("slickIndex");void 0!=a&&jQuery(".product-image-slider").slick("slickGoTo",a),jQuery(".configurable-option").removeClass("active"),jQuery(".configurable-option[data-id = "+t+"]").addClass("active"),jQuery("#product-info .product-price .quantity").html(config_options[t].label),jQuery("#product-info .product-price .price").html(optionsPrice.formatPrice(config_options[t].price)),jQuery("#product-details-add-to-cart").data("ids",config_options[t].product_id),jQuery("#product-details-add-to-cart").data("price",config_options[t].price),jQuery("#product-details-add-to-wishlist").attr("href",config_options[t].product_wishlist_url)}function addFactsToAllTab(){jQuery(".is-summary").removeClass("inactive"),jQuery(".factsContent > .facts-wrapper > .fact-teaser").each(function(e){jQuery(this).parent().parent().hasClass("is-summary")||jQuery(this).clone(!0).appendTo("#fact-tabs > .summary .facts-wrapper")})}function updateElevateZoom(){jQuery(".zoomContainer").remove();var e=jQuery(".product-image-slider .slick-active .zoom-reference");void 0!=e.data("zoom-image")&&e.elevateZoom({zoomWindowFadeIn:400,zoomType:"lens"})}function suggestModuleCheckboxUpdate(){var e=[],t=[],a=0,i="0,00";jQuery("#suggestion-module span.checkbox.checked").each(function(){t.push(parseFloat(jQuery(this).attr("data-price"))),e.push(parseFloat(jQuery(this).attr("data-id")))}),t.forEach(function(e){a+=e}),a=Math.round(100*a)/100,i=a.toString().replace(".",","),parseInt(i)==a&&(i+=",00"),t.length>0?jQuery("#suggestion-module aside.suggestion-summary .summary").addClass("hasSelected"):jQuery("#suggestion-module aside.suggestion-summary .summary").removeClass("hasSelected"),jQuery("#suggestion-module aside.suggestion-summary em.count").text(e.length),jQuery("#suggestion-module aside.suggestion-summary p > em").text(jQuery("#suggestion-module aside.suggestion-summary p > em").text().replace(/[0-9,.]+/,i)),jQuery("#suggestion-module aside.suggestion-summary a.cart-btn").data("ids",e.join(","))}function prepareAjaxCartAddParameters(e){var t="",a=jQuery(e).data("ids").toString().split(","),i=jQuery(e).data("qty");return void 0!=a&&a.length>0&&(t+="/product/"+a[0],void 0!=i&&i>0&&(t+="/qty/"+i),a.length>1&&(t+="/related_product/",t+=a.slice(1).join(","))),t}function setLocationAjax(e,t){var a=400,i=4e3;e+="/isAjax/1/",e=e.replace("checkout/cart","ajx/cart");var n=jQuery(t).find(".ajax_loader");n.slideDown(a/4),n.append('<span class="alert loading"></span>');var r=n.children(".alert:last-child");try{jQuery.ajax({url:e,dataType:"json",success:function(e){r.removeClass("loading"),"SUCCESS"==e.status?(r.addClass("success"),jQuery(".topmenu a.shoppingcart span.badge").remove(),bb.Ajax.getShoppingCartQuantity(".topmenu a.shoppingcart"),jQuery("#top-cart").remove(),jQuery(".topmenu a.shoppingcart").removeClass("active")):"ERROR"==e.status&&r.addClass("error"),r.append(e.message);var t=setTimeout(function(){r.slideUp(a,function(){r.remove(),0==n.find(".alert").length&&n.slideUp(a/4)})},i);r.click(function(){r.slideUp(a,function(){r.remove(),0==n.find(".alert").length&&(n.slideUp(a/4),clearTimeout(t))})})},error:function(e,t,o){n.removeClass("loading"),n.addClass("error"),r.append("error");var s=setTimeout(function(){r.slideUp(a,function(){r.remove(),0==n.find(".alert").length&&n.slideUp(a)})},i);r.click(function(){r.slideUp(a,function(){r.remove(),0==n.find(".alert").length&&(n.slideUp(a),clearTimeout(s))})})}})}catch(o){}return!1}function deleteMiniCartItemClickFunction(e,t){e.preventDefault(),jQuery(t).find(".button.delete").addClass("loading"),bb.Ajax.deleteMiniCartItem("#top-cart",jQuery(t).attr("href"),function(){jQuery("section#top-cart a.button.delete").on("click",function(e){deleteMiniCartItemClickFunction(e,this)}),jQuery(".topmenu a.shoppingcart span.badge").remove(),bb.Ajax.getShoppingCartQuantity(".topmenu a.shoppingcart")})}function addMiniCartItemClickFunction(e,t,a){e.preventDefault();var i;a?t.href&&(i=t.href):i=jQuery("#product_addtocart_form").attr("action");var n=i;i=i.replace("checkout","ajx");var r=jQuery("#product_addtocart_form").serialize(),o="";bb.Ajax.addMiniCartItem(i,r,"json",function(e,t){a&&(window.location=n)},function(e){if("SUCCESS"!=e.status)a&&(window.location=n);else{var i=jQuery("<div class='quickResponse'></div>").appendTo(jQuery(t));i.animate({opacity:1},500),o=Translator.translate("The article was placed into the cart. ");var r=jQuery("<div></div>").appendTo(i);jQuery("<span class='greenTick'></span>").appendTo(i),jQuery("<p>"+o+"</p>").appendTo(r);setTimeout(function(){i.css({opacity:0}),setTimeout(function(){i.remove()},1e3)},3e3),t.disabled=!1}},function(){},function(){jQuery(".topmenu a.shoppingcart span.badge").remove(),bb.Ajax.getShoppingCartQuantity(".topmenu a.shoppingcart")})}jQuery.noConflict(),jQuery(document).ready(function(){function e(e){var t=60;jQuery(window).scrollTop()>t&&jQuery("header").hasClass("open")&&jQuery("header").removeClass("open"),jQuery(window).scrollTop()<t&&!jQuery("header").hasClass("open")&&jQuery("header").addClass("open")}var t;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&jQuery("#mainmenu > li:not(.no-dropdown) > a").click(function(e){t=this,e.preventDefault()}),jQuery(".index-head-slider").slick({dots:!0,autoplaySpeed:3e3,pauseOnHover:!1,infinite:!0}),jQuery("#mainmenu .level-top>ul").addClass("submenu");var a=jQuery("#mainmenu > li");a.each(function(e,t){$current=jQuery(t);var a=jQuery(t).find(".submenu");$current.on("mouseenter",function(e){this.hoverTimeout=setTimeout(function(){a.slideDown("fast")},300),clearTimeout(this.timeout)}),$current.on("mouseleave",function(e){var t=jQuery(this).find(".submenu");this.timeout=setTimeout(function(){t.slideUp("fast")},300),clearTimeout(this.hoverTimeout)})}),jQuery(".product-image-slider").slick({slidesToShow:1,slidesToScroll:1,dots:!0,asNavFor:".product-image-thumbnail-slider"}),jQuery(".product-image-thumbnail-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,centerMode:!0,focusOnSelect:!0,vertical:!0,asNavFor:".product-image-slider"}).on("beforeChange",function(e,t,a){jQuery(".product-image-thumbnail-slider .slick-slide").removeClass("slick-active")}).on("afterChange",function(e,t,a){jQuery(".product-image-thumbnail-slider .slick-slide").removeClass("slick-active"),jQuery(".product-image-thumbnail-slider .slick-slide").removeClass("slick-current-slide"),jQuery(".product-image-thumbnail-slider .slick-slide").removeClass("slick-current-slide-initial"),jQuery(".product-image-thumbnail-slider .slick-slide[data-slick-index="+a+"]").addClass("slick-active"),jQuery(".product-image-thumbnail-slider .slick-slide[data-slick-index="+a+"]").addClass("slick-current-slide")}),jQuery(".product-image-thumbnail-slider .slick-slide").removeClass("slick-active"),jQuery(".product-image-thumbnail-slider .slick-slide[data-slick-index=0]").addClass("slick-active"),jQuery(".product-image-thumbnail-slider .slick-slide[data-slick-index=0]").addClass("slick-current-slide-initial"),jQuery(".fancybox-thumb").fancybox({padding:0,helpers:{thumbs:{width:100,height:60}}}),jQuery(".gallery-link").click(function(e){var t,a=jQuery(this).data("open-id");a&&(t=jQuery(".fancybox-thumb[rel="+a+"]:eq(0)"),e.preventDefault(),t.click())}),jQuery(".fancybox-text").fancybox({autoSize:!1,height:"auto",width:570,padding:50}),jQuery(".tabs:not(.no-jQuery-ui-tab)").tabs(),addFactsToAllTab(),jQuery(".ui-tabs-nav > li > a").click(function(){initIsotope()}),jQuery(".ui-tabs-nav > .inactive > a").attr("disabled","disabled");var i=".item-description";jQuery(document).on("mouseenter",".item-info > a",function(){jQuery(this).next(i).fadeIn("fast")}),jQuery(document).on("mouseleave",".item-info > a",function(){jQuery(this).next(i).fadeOut("fast")}),jQuery(".field label").click(function(){jQuery(this).prev().focus()}),jQuery(".fact-teaser.expandable").click(function(){jQuery(this).find(".expanding-wrapper").animate({height:["toggle","linear"]})});var n=function(){jQuery(".field input, .field textarea").on("blur",function(){""!==jQuery(this).val()?jQuery(this).next(".validation-advice").length?(jQuery(this).next(".validation-advice").next("label").addClass("stay"),jQuery(this).next(".validation-advice").next(".validation-advice").next("label").addClass("stay")):jQuery(this).next("label").addClass("stay"):jQuery(this).next(".validation-advice").length?(jQuery(this).next(".validation-advice").next("label").removeClass("stay"),jQuery(this).next(".validation-advice").next(".validation-advice").next("label").removeClass("stay")):jQuery(this).next("label").removeClass("stay")})};n();var r=function(){jQuery("input, textarea").each(function(){""!==jQuery(this).val()?jQuery(this).next("label").addClass("stay"):jQuery(this).next("label").removeClass("stay")})},o=function(){jQuery(".field select").each(function(){""!==jQuery(this).val()?jQuery(this).parent().next().css("opacity","0"):jQuery(this).parent().next().css("opacity","1")})};jQuery(".field input, .field textarea").length&&r(),jQuery("input").change(function(){r()}),jQuery("select").length&&o(),jQuery("select").change(function(){o()}),jQuery("a").filter(":not(.fancybox-text)").filter(function(){}).click(function(e){e.preventDefault();var t=jQuery(this);jQuery("html, body").animate({scrollTop:jQuery(t.attr("href")).offset().top-140})}),jQuery(".glossary .characteristics").each(function(){jQuery(this).children().length>4&&(jQuery(this).find("li:nth-child(3n)").addClass("breakafter"),jQuery(this).find("li:nth-child(3n-2)").addClass("breakbefore"),jQuery(this).find("li:last-child").addClass("breakafter"))});var s=new bb.UI;s.setup(),bb.Ajax.getShoppingCartQuantity("#topmenu-wrapper a.shoppingcart"),bb.Ajax.getWishlistQuantity("#topmenu-wrapper a.wishlist"),el.Input.SelectBoxes.create();new bb.Navigation({container:"#topmenu-wrapper li.level0 > a",level0:"ul.level0"});jQuery(window).on("scroll",function(t){e(t)}),jQuery("a.add-comment").click(function(){jQuery(this).next().fadeToggle()}),jQuery(".product-infolinks").children().each(function(){0==jQuery(this).children().length&&jQuery(this).parent().addClass("hidden")}),jQuery("#suggestion-module div.product-teaser span.checkbox").on("click",function(e){e.preventDefault(),jQuery(this).toggleClass("checked"),suggestModuleCheckboxUpdate()}),jQuery("#suggestion-module aside.suggestion-summary a.cart-btn, #product-details-add-to-cart, .product-teaser .btn.more-btn.cart-btn:not(.no-ajax)").on("click",function(e){e.preventDefault(),suggestModuleCheckboxUpdate();var t=jQuery(e.target).data("ids");void 0!=t&&(void 0==t.length||t.length>0)&&setLocationAjax("/checkout/cart/add"+prepareAjaxCartAddParameters(e.target),e.target)}),jQuery("input#search").on("keyup",function(){bb.Ajax.getSolrSearchSuggestions()})}),jQuery(window).load(function(){initIsotope(),""!=window.location.hash&&jQuery("html, body").animate({scrollTop:jQuery(window.location.hash).offset().top-140}),jQuery(".index-head-slider").slick("slickPlay"),jQuery(".product-image-slider").on("afterChange",function(){updateElevateZoom()}),updateElevateZoom()});var bb={};bb.Cart=function(e){this.init(e)},bb.Cart.prototype=function(){function e(){var e=jQuery(t.updateCardId),a=e.height()+5;e.prepend('<div class="reload-cart" style="height:'+a+'px;"><img src="/skin/frontend/billy_boy/default/images/ajax-loader.gif" /></div>'),jQuery.ajax({type:"POST",url:t.updateUrl,data:jQuery(t.updateCardId+" > form").serialize(),success:function(a,i,n){var r=jQuery(a);e.html(r.find(t.updateCardId).html())},error:function(e,t,a){}})}var t={updateCardId:null,updateUrl:null,clickHandler:null};return{init:function(a){t.updateCardId=a.updateCardId,t.updateUrl=a.updateUrl,t.clickHandler=a.clickHandler,jQuery(document).one("click",t.clickHandler,function(t){t.preventDefault(),e()})}}}();var el={};el.Input={},el.Input.SelectBoxes=function(){function e(){for(var e in a)switch(a[e].select.attr("disabled")!=a[e].disabled&&(a[e].disabled=a[e].select.attr("disabled")),a[e].disabled){case"disabled":a[e].opener.addClass(t.disabledClass);break;default:a[e].opener.removeClass(t.disabledClass)}}var t={disabledClass:"disabled",hoverClass:"hover"},a={};return{create:function(){selector="select";var i=jQuery(selector);i.each(function(i){var n=jQuery(this).next("div").children("a"),r=jQuery(this);a[i]={},a[i].disabled=r.attr("disabled"),a[i].select=r,a[i].opener=n,"disabled"==a[i].disabled&&n.addClass(t.disabledClass),n.html("<span>"+r.context.options[r.context.selectedIndex].text+"</span>"),r.on({change:function(t){n.html("<span>"+t.target.options[t.target.selectedIndex].text+"</span>"),e()},mouseenter:function(e){n.addClass("hover")},mouseleave:function(e){n.removeClass("hover")}})})}}}(),el.Input.SelectBoxes.create(),bb.Navigation=function(e){this.init(e)},bb.Navigation.prototype=function(){function e(t,a){t.preventDefault(),jQuery(a).addClass("loading"),bb.Ajax.deleteMiniCartItem("#top-cart",jQuery(a).attr("href"),function(){jQuery("section#top-cart a.button.delete").on("click",function(t){e(t,this)}),jQuery(".topmenu a.shoppingcart span.badge").remove(),bb.Ajax.getShoppingCartQuantity(".topmenu a.shoppingcart")})}function t(){jQuery("#topmenu-wrapper a.shoppingcart").on("click",function(t){t.preventDefault();var a=jQuery("#top-cart"),i=jQuery(this);a.length>0?a.fadeOut("fast",function(e){i.toggleClass("active"),a.remove()}):(i.parent().append('<section style="display: none;" id="top-cart" class="block block-cart"><span class="loading" style="display: inline-block; width: 100%; height: 16px;"></span></section>'),jQuery("#top-cart").fadeIn("fast"),i.toggleClass("active"),bb.Ajax.getMiniCart("#top-cart",function(){jQuery("span.loading").remove(),jQuery("section#top-cart a.shopOn").on("click",function(e){e.preventDefault(),jQuery("div.persist-header > header a.shoppingcart").click()}),jQuery("section#top-cart a.button.delete").on("click",function(t){e(t,this)})}))}),jQuery("html").on("click",function(e){null!=i&&"SPAN"!=e.target.nodeName&&(i.fadeOut("fast"),n.removeClass("active"))}),jQuery(a.container).click(function(e){e.preventDefault();var t=jQuery(this);n=t.parent("li");var a=t.next("ul");i&&i[0]!=a[0]&&(i.parent("li").removeClass("active"),i.hide()),a.is(":visible")?(n.removeClass("active"),i.fadeOut("fast")):(n.addClass("active"),a.fadeIn("fast"),i=a),0==a.length&&(n.removeClass("active"),document.location=this.href)})}var a={container:null,level0:null},i=null,n=null;return{init:function(e){a.container=e.container,a.level0=e.level0,t()}}}(),bb.Ajax=function(){var e={URL_getSCQuantity:"",URL_getMiniCart:"",URL_getWishlistQuantity:""};return{call:function(e,t){return jQuery.ajax({url:e,method:t})},callExtended:function(e,t,a,i,n,r,o){return jQuery.ajax({url:e,data:t,method:a,dataType:i,error:n,success:r,complete:o})},getShoppingCartQuantity:function(t){this.call(e.URL_getSCQuantity,"GET").done(function(e){parseInt(e)>0&&jQuery(t).append('<span class="badge">'+e+"</span>")})},getWishlistQuantity:function(t){this.call(e.URL_getWishlistQuantity,"GET").done(function(e){parseInt(e)>0&&jQuery(t).append('<span class="badge">'+e+"</span>")})},getMiniCart:function(t,a){this.call(e.URL_getMiniCart,"GET").done(function(e){jQuery(t).html(e),a()})},deleteMiniCartItem:function(e,t,a){this.call(t,"GET").done(function(t){jQuery(e).html(t),a()})},addMiniCartItem:function(e,t,a,i,n,r,o){this.callExtended(e,t,"GET",a,i,n,r).done(function(e){console&&console.log,o()})},getSolrSearchSuggestions:function(){void 0!=this.searchAutocompleteCall&&this.searchAutocompleteCall.abort();var e=jQuery("input#search").val(),t="/solr/search/suggest?q="+encodeURIComponent(e);jQuery("#frm-search").prop("action");if(e.length>2)try{this.searchAutocompleteCall=jQuery.ajax({url:t,dataType:"json",success:function(t){if("[]"!=JSON.stringify(t.products)||"[]"!=JSON.stringify(t.content)){var a="Produkte im Shop",i="Inhalte",n="";if("[]"!=JSON.stringify(t.products)){n+='<h2 class="autocomplete-hdl-shop">'+a+"</h2>\n",n+="<ul>";for(var r=0;r<t.products.length;r++)for(var o in t.products[r]){n+='<li class="ui-menu-item">\n';var s=o.replace(new RegExp("("+e.replace(/\+|\s/g,"|")+")","i"),"<em>$1</em>");n+="<a data-key='"+o+"'>"+s+" ("+t.products[r][o]+")</a>\n",n+="</li>\n"}n+="</ul>"}if("[]"!=JSON.stringify(t.content)){n+='<h2 class="autocomplete-hdl-shop">'+i+"</h2>\n",n+="<ul>";for(var r=0;r<t.content.length;r++)for(var o in t.content[r]){n+='<li class="ui-menu-item">\n';var s=o.replace(new RegExp("("+e.replace(/\+|\s/g,"|")+")","i"),"<em>$1</em>");n+="<a data-key='"+o+"'>"+s+" ("+t.content[r][o]+")</a>\n",n+="</li>\n"}n+="</ul>"}jQuery("#search_autocomplete").html(n),jQuery("#search_autocomplete>ul>li>a").on("click",function(){jQuery("input#search").val(jQuery(this).data("key")),jQuery("input#search").focus(),bb.Ajax.hideSolrSuggest()}),jQuery(document).on("click",bb.Ajax.clickedOutsideOfSearchForm),jQuery("#search_autocomplete").css("display","block")}else bb.Ajax.hideSolrSuggest()},error:function(e,t,a){"rejected"!=e.state()&&(bb.Ajax.hideSolrSuggest(),console.log("error:"),console.log(e))}})}catch(a){}else this.hideSolrSuggest();return!1},clickedOutsideOfSearchForm:function(e){var t=jQuery("#frm-search");t.is(e.target)||0!==t.has(e.target).length||bb.Ajax.hideSolrSuggest()},hideSolrSuggest:function(){jQuery("#search_autocomplete").html(""),jQuery("#search_autocomplete").css("display","none"),jQuery(document).off("click",bb.Ajax.clickedOutsideOfSearchForm)}}}(),bb.UI=function(){},bb.UI.prototype=function(){function e(){jQuery(".product-detail-tabs").tabs()}function t(){var e=jQuery("#layered-filters"),t=jQuery("#btn-filter"),a=jQuery("#btn-filter span");t.on("click",function(i){i.preventDefault(),$this=jQuery(this),$layer=e,$this.hasClass("active")?$layer.fadeToggle("fast",function(){$this.toggleClass("active")}):($this.toggleClass("active"),$layer.fadeToggle("fast")),jQuery("html").on("click",function(i){var n=jQuery(i.target);n.is(t)||n.is(a)||(e.fadeOut("fast"),t.removeClass("active"))})})}function a(){var e=".item-description";jQuery(document).on("mouseenter",".item-info a",function(){jQuery(this).next(e).fadeIn("fast")}),jQuery(document).on("mouseleave",".item-info a",function(){jQuery(this).next(e).fadeOut("fast")})}function i(){jQuery(document).on("click","#overlay-layer a.button, #overlay-layer a.btn-close",function(e){if("layer-cart"!=this.id){e.preventDefault(),jQuery("#overlay-layer").fadeOut("fast"),jQuery("#overlay").fadeOut("fast");var t=jQuery(this).parents("html").hasClass("modal");t&&parent.closeFancybox()}})}function n(){if(jQuery("a[href$='#newletter-subscribe-form']").attr("href","#newletter-subscribe-form").attr("data-type","inline").addClass("fancybox"),"#newletter-subscribe-form"==window.location.hash){var e="inline",t="#newletter-subscribe-form",a=[42,10,39,44],i=480,n=718,r="90%",o=!0,s="no";jQuery.fancybox({type:e,href:t,padding:a,width:i,height:r,autoSize:o,maxWidth:618,maxHeight:"90%",wrapCSS:"type-"+e,fixed:!1,scrolling:s,helpers:{overlay:{css:{background:"rgba(250,246,238, 0.7)"}}}})}jQuery(document).on("click","a.fancybox",function(e){e.preventDefault();var t=jQuery(this),a="image",i=t.attr("href"),r=42,o=480,s="90%",l=!0,u="auto";switch(t.attr("data-type")){case"inline":a="inline",r=[42,10,39,44],n=718,u="no";break;case"iframe":a="iframe",r=[42,10,39,44];break;case"ajax":a="ajax",i="/ajx/index/modal?page="+t.attr("href").replace(document.domain,"").replace("http://","").replace("https://").replace(/\//g,""),r=[42,10,39,44]}jQuery.fancybox({type:a,href:i,padding:r,width:o,height:s,autoSize:l,maxWidth:618,maxHeight:"90%",wrapCSS:"type-"+a,fixed:!1,scrolling:u,helpers:{overlay:{css:{background:"rgba(250,246,238, 0.7)"}}}})})}function r(){jQuery("a.add-comment").on("click",function(e){jQuery(this).next().fadeToggle()})}return{setup:function(){e(),t(),a(),i(),n(),r()}}}();